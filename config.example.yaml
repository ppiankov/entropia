# Entropia Configuration Example
# Copy this file to ~/.entropia/config.yaml and customize as needed
# See docs/CONFIGURATION.md for detailed explanations

# HTTP fetch settings
http:
  timeout: 30s                                           # Request timeout
  user_agent: "Entropia/0.1 (+https://github.com/ppiankov/entropia)"
  follow_redirects: true                                 # Follow HTTP redirects
  max_redirects: 3                                       # Maximum redirect hops
  max_body_bytes: 2000000                                # Max response size (2MB)

# Concurrency settings
concurrency:
  workers: 4                                             # Batch mode workers (URL scanning)
  validation_workers: 20                                 # Evidence validation goroutines

# Rate limiting (per domain)
rate_limiting:
  requests_per_second: 2.0                               # Average rate limit
  respect_robots_txt: true                               # Honor robots.txt (always keep true)
  burst_size: 5                                          # Burst allowance

# Caching
cache:
  enabled: true                                          # Enable caching
  ttl: 24h                                               # Time-to-live for cached responses
  dir: ~/.entropia/cache                                 # Cache directory

# LLM integration (optional)
llm:
  provider: ""                                           # openai, anthropic, ollama, or "" (disabled)
  model: gpt-4o-mini                                     # Model name
  api_key: ""                                            # SECURITY: Use environment variables instead!
  base_url: ""                                           # Custom endpoint (for Ollama)
  strict_evidence: true                                  # Enforce URL allowlist (NEVER change to false)
  timeout: 20                                            # LLM request timeout (seconds)
  max_tokens: 500                                        # Max output tokens

# Scoring configuration
scoring:
  rules_file: ""                                         # Path to custom scoring rules (optional)

# Output settings
output:
  format: both                                           # json, markdown, or both
  dir: ./entropia-reports                                # Output directory for batch mode
  verbose: false                                         # Verbose console output
  include_footer: true                                   # Include "Generated by Entropia" footer in Markdown

# Authority classification (source quality tiers)
authority:
  # Tier 1: Primary sources (laws, academic papers, official documents)
  primary_domains:
    - legislation.gov.uk
    - doi.org
    - scholar.google.com
    - jstor.org
    - arxiv.org

  # Tier 2: Secondary sources (encyclopedias, major publishers)
  secondary_domains:
    - wikipedia.org
    - britannica.com
    - nytimes.com
    - bbc.com

  # URL pattern-based classification
  path_patterns:
    - pattern: /statute/
      tier: primary
    - pattern: /legal/
      tier: primary
    - pattern: /law/
      tier: primary

  # Explicit domain-to-tier mapping (optional)
  domain_map: {}

# API Keys (recommended: use environment variables instead)
# export OPENAI_API_KEY=sk-...
# export ANTHROPIC_API_KEY=sk-ant-...
# export OLLAMA_BASE_URL=http://localhost:11434
